<mat-toolbar color="primary">Yelping Hand</mat-toolbar>
<div class="container">
    <form (ngSubmit)="handleSearch()">
        <mat-form-field class="example-full-width">
            <mat-label>State</mat-label>
            <input type="text" matInput [matAutocomplete]="autoState" [(ngModel)]="state" name="state" (input)="filterStates()">
            <mat-autocomplete #autoState="matAutocomplete" (optionSelected)="onStateSelected()">
                <mat-option *ngFor="let option of filteredStates" [value]="option">
                    {{ option }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <mat-form-field class="example-full-width">
            <mat-label>City</mat-label>
            <input type="text" matInput [matAutocomplete]="autoCity" [(ngModel)]="city" name="city" (input)="filterCities()">
            <mat-autocomplete #autoCity="matAutocomplete">
                <mat-option *ngFor="let option of filteredCities" [value]="option">
                    {{ option }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <mat-form-field class="example-full-width">
            <mat-label>Category</mat-label>
            <input type="text" matInput [matAutocomplete]="autoCategory" [(ngModel)]="category" name="category" (input)="filterCategories()">
            <mat-autocomplete #autoCategory="matAutocomplete" (optionSelected)="onCategorySelected()">
                <mat-option *ngFor="let option of filteredCategories" [value]="option">
                    {{ option }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <mat-form-field class="example-full-width">
            <mat-label>Business Name</mat-label>
            <input type="text" matInput [matAutocomplete]="autoBusiness" [(ngModel)]="businessName" name="businessName" (input)="filterBusinessNames()">
            <mat-autocomplete #autoBusiness="matAutocomplete">
                <mat-option *ngFor="let option of filteredBusinesses" [value]="option.name">
                    {{ option.name }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit">Search</button>
    </form>

    <ng-container *ngIf="showResults">
        <app-search-results [businesses]="filteredBusinesses"></app-search-results>
      </ng-container>
</div>
